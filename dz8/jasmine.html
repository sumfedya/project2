<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="modules/node_modules/jasmine-core/lib/jasmine-core/jasmine.css">
</head>
<body>

<script src="modules/node_modules/jasmine-core/lib/jasmine-core/jasmine.js"></script>
<script src="modules/node_modules/jasmine-core/lib/jasmine-core/jasmine-html.js"></script>
<script src="modules/node_modules/jasmine-core/lib/jasmine-core/boot.js"></script>
<script src="modules/node_modules/jquery/dist/jquery.min.js"></script>
<script src="Cart.js"></script>
<script>
    describe('Соответствие значений', () => {
        it('Проверка а на значение 10', () => {
            let a = 10; // то, что мы проверяем
            // expect(a).toBe(10); // 10 - эталон
            expect(a).toBe(10); // 10 - эталон

            // ===
            // .toBeLessThan()
            // .toBeGreaterThan()
            // .toBeCloseTo()


            a = 9;
            // expect(a).not.toBe(9);
        });
    });
    describe('Дополнительные функции', () => {
        it('Сравнение объектов', () => {
            let myGo = () => {};
            let user1 = {
                name: 'Ann',
                age: 10,
                go: myGo
            };
            let user2 = {
                name: 'Ann',
                age: 10,
                go: myGo
            };
            // console.log(user1 === user2);
            expect(user1).toEqual(user2);
        });
        it('Проверка на null', () => {
            expect(null).toBeNull();
            expect(true).not.toBeNull();
        });
        it('Проверка на undefined', () => {
            expect(undefined).toBeUndefined();
            expect(true).not.toBeUndefined();
        });
        it('Проверка на true', () => {
            expect(true).toBeTruthy();
            expect(false).not.toBeTruthy();
        });
        it('Проверка на false', () => {
            expect(false).toBeFalsy();
            expect(true).not.toBeFalsy();
        });
        it('Проверка на NaN', () => {
            expect(NaN).toBeNaN();
            expect(true).not.toBeNaN();
        });
        it('Проверка по регулярному выражению', () => {
            let str = 'Test AbcD jasmine';

            expect(str).toMatch(/abcd/i);
            expect(str).not.toMatch(/abcd/);
        });
        it('Работа с массивов', () => {
            let colors = ['black', 'white', 'blue'];

            expect(colors).toContain('white');
            expect(colors).not.toContain('red');
        });
    });

    describe('Cart test', () => {
        it('Get products', async () => {
            let newCart = await Cart.create('getCart.json');
            expect(newCart.cartItems[0]).toEqual({
                "id_product": 123,
                "product_name": "Ноутбук",
                "price": 45600,
                "quantity": 1
            });
        });
        it('remove product', async () => {
            let newCart = await Cart.create('getCart.json');
            newCart._remove(123);
            expect(newCart.cartItems.length).toBe(1);
        });
        it('remove product 2', async () => {
            let newCart = await Cart.create('getCart.json');
            newCart._remove(123);
            expect(newCart.cartItems.length).toBe(newCart.countGoods);
        });        
    })




















</script>
</body>
</html>