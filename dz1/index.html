<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>JS_2_dz_1</title>
</head>

<body>
    <div id="menu1"></div>
    <div id="menu2"></div>
    <div id="burger" style="padding-top: 50px"></div>
    <p id="burgerSum"></p>
    <!--<script src="main.js"></script>-->
    <script src="MenuItem.js"></script>
    <script src="Menu.js"></script>
    <script src="Burger.js"></script>
    <script>
        window.onload = () => {
            let block = document.getElementById('menu1');

            let menu = new Menu('my', 'my', [
                new MenuItem('/', 'Menu'),
                new MenuItem('/about', 'About'),
                new MenuItem('/services', 'Services'),
                new MenuItem('/info', 'info')
            ]);

            block.innerHTML = menu.render();

            itemBtn = document.createElement("button");
            itemBtn.textContent = "remove menu";

            itemBtn.onclick = function() { //без стрелочной функции.
                menu.remove();
                this.remove(); //this здесь - это сама кнопка. itemBtn.remove();  тоже работает.
            };
            block.appendChild(itemBtn);


            let block2 = document.getElementById('menu2');

            let menu2 = new Menu('my2', 'my2', [
                new MenuItem('/', 'Menu2'),
                new MenuItem('/about', 'About2'),
                new MenuItem('/services', 'Services2'),
                new SubMenu('sub1', 'sub1', 'subName', [
                    new MenuItem('/', 'SMenu'),
                    new MenuItem('/about', 'SAbout'),
                    new MenuItem('/services', 'SServices'),
                    new MenuItem('/info', 'Sinfo'),
                ]),
                new MenuItem('/info', 'info2')
            ]);

            block2.innerHTML = menu2.render();

            itemBtn = document.createElement("button");
            itemBtn.textContent = "remove menu 2";

            itemBtn.addEventListener('click', () => { //со стрелочной функцией
                menu2.remove();
                itemBtn.remove(); //this здесь на уровень выше, чем без стрелочной функции, т.е. windowю this.remove() не сработает.
            });
            block2.appendChild(itemBtn);

            let blockBurger = document.getElementById('burger');
            let burger = new Burger();

            itemBtn = document.createElement("button");
            itemBtn.textContent = "МАЛЕНЬКИЙ";
            itemBtn.addEventListener('click', () => {
                burger.setSize(false);
                burger.calculate();
            });
            blockBurger.appendChild(itemBtn);

            itemBtn = document.createElement("button");
            itemBtn.textContent = "БОЛЬШОЙ";
            itemBtn.addEventListener('click', () => {
                burger.setSize(true);
                burger.calculate();
            });
            blockBurger.appendChild(itemBtn);
            
            itemBtn = document.createElement("button");
            itemBtn.textContent = "СЫР";
            itemBtn.addEventListener('click', () => {
                burger.setInside(1);
                burger.calculate();
            });
            blockBurger.appendChild(itemBtn);
            
            itemBtn = document.createElement("button");
            itemBtn.textContent = "САЛАТ";
            itemBtn.addEventListener('click', () => {
                burger.setInside(2);
                burger.calculate();
            });
            blockBurger.appendChild(itemBtn);
            
            itemBtn = document.createElement("button");
            itemBtn.textContent = "КАРТОФЕЛЬ";
            itemBtn.addEventListener('click', () => {
                burger.setInside(3);
                burger.calculate();
            });
            blockBurger.appendChild(itemBtn);
            
            itemBtn = document.createElement("button");
            itemBtn.textContent = "ПРИПРАВА";
            itemBtn.addEventListener('click', () => {
                burger.setRelish();
                burger.calculate();
            });
            blockBurger.appendChild(itemBtn);
            
            itemBtn = document.createElement("button");
            itemBtn.textContent = "МАЙОНЕЗ";
            itemBtn.addEventListener('click', () => {
                burger.setMayo();
                burger.calculate();
            });
            blockBurger.appendChild(itemBtn);


        }
    </script>
</body>

</html>
